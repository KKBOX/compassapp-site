<!doctype html>
<!--[if lt IE 8 ]><html class="ie"><![endif]-->
<!--[if (gte IE 8)|!(IE)]><!--><html><!--<![endif]-->
<head>
    <meta charset="UTF-8">
    <link rel="shortcut icon" href="favicon.ico">
    <link type="text/css" rel="stylesheet" href="stylesheets/application.css"/>
    <!-- html5shiv http://code.google.com/p/html5shiv/ -->
	<!--[if lt IE 9]><script src="//html5shim.googlecode.com/svn/trunk/html5.js"></script><![endif]-->
    <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.5.2/jquery.min.js"></script>
    <script type="text/javascript" src="javascripts/smoothscroll.js"></script>
    <title>Compass Manual</title>
	<script type="text/javascript" src="javascripts/syntaxhighlighter/shCore.js"></script>
	<script type="text/javascript" src="javascripts/syntaxhighlighter/shBrushCss.js"></script>
	<link type="text/css" rel="stylesheet" href="stylesheets/syntaxhighlighter/shCoreDefault.css"/>
	<script type="text/javascript">SyntaxHighlighter.all();</script>
    <script type="text/javascript" src="javascripts/entry.js"></script>
</head>

<body>
    <header>
        <div class="wrapper">
            <h1>Compass.app</h1>
        </div>
    </header>
    <div id="container">
        <div class="wrapper">
            <aside>
                <div class="entry-bar">
                    <h3>快速導覽</h3>
                    <ul>
                        <li><a href="#introduction">介紹</a></li>
                        <li><a href="#install">安裝執行 Step by Step</a></li>
                        <li>
                            <a href="#features">功能介紹</a>
                            <ul>
                                <li><a href="#menu">選單</a></li>
                                <li><a href="#preference">偏好設定</a></li>
                            </ul>
                        </li>
                        <li>
                            <a href="#how-to-use">如何使用</a>
                            <ul>
                                <li><a href="#core-framework">核心框架</a></li>
                                <li><a href="#nesting">巢狀結構</a></li>
                                <li><a href="#variables">變數</a></li>
                                <li><a href="#selector-inheritance">選擇繼承</a></li>
                                <li><a href="#mixins">混合</a></li>
                                <li><a href="#sprites">Sprite Image</a></li>
                            </ul>
                        </li>
                        <li><a href="sample-project/demo.html">示範 Demo</a></li>
                    </ul>
                </div>
            </aside>
            <article>
                <section id="introduction">
                    <h2>介紹</h2>
                    <p><abbr title="Syntactically Awesome Stylesheets"><a href="http://sass-lang.com/" target="_blank">Sass</a></abbr> 語法是種可延伸的 CSS，讓撰寫 CSS 時能更有彈性也更有效率。<a href="http://beta.compass-style.org/" target="_blank">Compass</a> 則是將 Sass 包含在內，同時再納入許多 Framework 與相關功能讓網頁設計人員快速與簡便再加倍，然而 Compass 是一套需要 Ruby 環境以及依靠指令的工具，這對前端設計師頗具門檻，為了能跨平台並介紹給更多設計師使用，<a href="http://handlino.com" target="_blank">和多</a>將 Compass 包成一套桌面應用程式，讓所有設計師都能輕易體驗這種輕鬆寫 code 的快感。</p>
                    <h3>下載</h3>
                    <p>你可以在 <a href="http://compass.handlino.com/" target="_blank">Compass.app</a> 網站購買並下載本桌面軟體，或是透過<a href="https://github.com/handlino/CompassApp/wiki/Help" target="_blank">幫助</a>找到你可能遇到的問題。</p>
                    <h3>前置作業</h3>
                    <h4>讓 Dreamweaver 看懂 Sass</h4>
                    <p>Compass.app 延伸應用原理用的是 <abbr title="Syntactically Awesome Stylesheets"><a href="http://sass-lang.com/" target="_blank">Sass</a></abbr>，用 Dreamweaver 寫 css 的話最好先修改 MMDocumentTypes.xml 好讓 Dreamweaver 看的懂 Sass。以下是 Adobe CS4 的路徑<br>
                    <em>&quot;C:\Program Files\Adobe\Adobe Dreamweaver CS4\configuration\DocumentTypes</em>&quot;</p>
                    <ul>
                        <li>開啟 <strong>MMDocumentTypes.xml</strong></li>
                        <li>搜尋關鍵字 css 找到 <strong>winfileextension=&quot;css&quot; macfileextension=&quot;css&quot;</strong></li>
                        <li>將以上字串改成 <strong>winfileextension=&quot;css,scss&quot; macfileextension=&quot;css,scss&quot;</strong></li>
                    </ul>
                    <p>參考來源: <a href="http://www.visual28.com/articles/less-scss-syntax-highlighting-in-dreamweaver" target="_blank">LESS/SCSS Syntax Highlighting in Dreamweaver</a></p>
                </section>
                <section id="install">
                    <h2>安裝執行</h2>
                    <p>檔案下載回來解壓縮後放置在任何你想要的位置，Compass.app 並不需要進行安裝動作，每次執行只要點擊 compass-app.exe 即可啟動。</p>
                    <p class="screenshot"><img src="images/step/01.png"><span class="note">解壓縮後點開 compass.app 資料夾就可以看到 compass-app.exe 執行檔</span></p>
                    <p>執行後工作列出現水滴狀羅盤圖示即表示程式已正常執行中，接下來點擊圖示即可進行下一步動作。</p>
                    <p class="screenshot"><img src="images/step/02.png"><span class="note">尚未觀看（watch）任何資料夾前圖示是呈現暗灰色</span></p>
                    <p>開始新專案可透過 <strong>Create Compass Project</strong> 來建立需要的專案 Framework，若一開始不太確定或沒特別需求則可以先選擇 compass 的 project 進行。</p>
                    <p class="screenshot"><img src="images/step/03.png"><span class="note">面對專案不同需求可建立不同的 Framework 執行</span></p>
                    <p>點選要執行的 Framework 後會出現新視窗要求輸入專案名稱以建立資料夾，這時也可以選擇要放置資料夾的位置，都確認後按存檔，程式就會在指定位置建立資料夾與相關檔案,建立完畢會出現提醒視窗（Notification），再點選 OK 按鈕即完成建立動作。</p>
                    <p class="screenshot"><img src="images/step/04.png"><span class="note">建議專案資料夾盡可能取英文名稱</span></p>
                    <p>專案資料夾建立後 compass.app 會自動進行 Watching 的動作，因此工作列的圖示也轉變成橘色。Watching 的用意在於針對此資料夾的 scss 檔案進行 compile 成為 css，而 scss 就是日後主要編輯的部分。</p>
                    <p class="screenshot"><img src="images/step/05.png"><span class="note">一旦進行 Watching icon 即會換色<span></p>
                    <p>開啟專案資料夾可看見程式所建立的相關檔案，當開始進行編輯後還會再自動生一份 compass_app_log.txt 對該專案進行動作的紀錄。</p>
                    <ul class="custom-item">
                        <li><strong>.sass-cache</strong> - 存放 scss 的暫存資料夾，基本上可以不用太理會。</li>
                        <li><strong>sass</strong> - 實際會進行編輯的部分。</li>
                        <li><strong>stylesheets</strong> - 編輯 scss 後產生的 css 檔案存放資料夾。</li>
                        <li><strong>config.rb</strong> - compass.app 對相關參數的設定檔，這部分會在後面的功能再做進一步的介紹。</li>
                    </ul>
                    <p class="screenshot"><img src="images/step/06.png"></p>
                    <p>為了避免每次開新專案都要做一次個人習慣的前置作業環境，因此日後比較了解 compass.app 後可以先建立個人的 folder，新專案開始只要複製一份進行 Watching 就可以開工了。</p>
                    <p>進行到一半的專案也可以使用 compass.app，只要複製一份 .sass-cache 與 sass 到該專案資料夾中再進行 Watching 即可，但記得要將專案原本的 css 先更名保留一份（例如原本的 screen.css 先更名為 _screen.css），這樣 css 名稱與 sass 同名時才不會被覆蓋。</p>
                </section>
                <section id="features">
                    <h2>功能介紹</h2>
                    <h3 id="menu">選單</h3>
                    <p>compass.app 功能並不複雜，選單打開即可一目瞭然。</p>
                    <p class="screenshot"><img src="images/step/07.png"></p>
                    <ul class="custom-item">
                        <li><strong>Watching</strong> 顯示正在觀看的專案資料夾，如再點擊一次即可離開 Watching 狀態。</li>
                        <li><strong>Install</strong> 可對正在進行中的專案再增加需要的 Framework。</li>
                        <li>
                            <strong>Change Options</strong> 對於編輯 scss 後輸出的 css 內容可做相關的設定：
                            <h5>輸出風格</h5>
                            <ol>
                                <li><strong>nested</strong> - 輸出的 css 會有層級縮排效果</li>
                                <li><strong>expanded</strong> - 標準模式</li>
                                <li><strong>compact</strong> - 所有屬性不會換行</li>
                                <li><strong>compressed</strong> - 所有換行、空白省略呈現壓縮狀態</li>
                            </ol>
                            <h5>選項設定</h5>
                            <ol>
                                <li><strong>Line Comments</strong> - 選擇輸出的 css 是否要包含 comments</li>
                                <li><strong>Debug Info</strong> - 一般用擴充套件 <a href="https://addons.mozilla.org/zh-tw/firefox/addon/firebug/" target="_blank">Firebug</a> 觀看 css 原始碼時，秀的是 css 檔案中的行數，如再裝上延伸套件 <a href="https://addons.mozilla.org/zh-TW/firefox/addon/firesass-for-firebug/" target="_blank">FireSass</a> 開啟此功能，則可以觀看 scss 中的行數以方便查找問題。</li>
                            </ol>
                        </li>
                        <li><strong>Clean & Complie</strong> - 重新建立產生 css 檔案。</li>
                        <li><strong>History</strong> - 顯示曾經觀看 Watch 的專案名稱，也可直接選取進行 Watching 動作。</li>
                        <li><strong>Create Compass Project</strong> - 建立新專案。</li>
                        <li><strong>Preference</strong> - 偏好設定。
                        </li>
                        <li><strong>About</strong> - 可以在這裡看到你所使用的 compass.app 版本。</li>
                        <li><strong>Quit</strong> - 關閉程式。</li>
                    </ul>
                    <h3 id="preference">偏好設定</h3>
                    <p>選單開啟 Preference 偏好設定會彈出新視窗進行，其中共有 Compass、Notification、Services、History 等相關設計。</p>
                    <p class="screenshot"><img src="images/step/08.png"></p>
                    <ul class="custom-item">
                        <li><strong>Compass</strong> 如果不是使用 Comment line 進行操作的使用者可以忽略這個選項使用預設即可。</li>
                        <li><strong>Notification</strong> 選擇哪些選項變動後會出現通知，以及選擇是否要在專案資料夾中產生記錄檔。</li>
                        <li><strong>Services</strong> 可啟動簡便的 server 方便使用絕對路徑在相關檔案上，另外還可裝 <a href="https://github.com/handlino/CompassApp/wiki/livereload-browser-extension" target="_blank">livereload</a> 擴充套件，在啟用 server 與開啟 livereload 功能的情況下，只要 html 或 css 有所更新瀏覽器便會自動刷新頁面。</li>
                        <li><strong>History</strong> 可以在此清除專案紀錄。</li>
                    </ul>
                </section>
                <section id="how-to-use">
                    <h2>如何使用</h2>
                    <p><abbr title="Syntactically Awesome Stylesheets">Sass</abbr> 網站提供了一些<a href="http://sass-lang.com/tutorial.html" target="_blank">範例</a>可參考，還可對照同樣風格用 sass 與 css 差別在哪裡，另外 Compass 網站也有許多<a href="http://beta.compass-style.org/reference/compass/">文件與範例</a>，或是由這了解幾個快速入門。</p>
                    <div id="core-framework">
                        <h3>核心框架（Core Framework）</h3>
                        <p>Compass 提供了許多強大的框架，需要時在 scss 裡 @import 後再 @include 進 style 即可</p>
                        <pre class="brush: css;">
                        @import "compass/reset";
                        @import "compass/css3";
                        
                        button {
                            @include border-radius(10px);
                            @include box-shadow(rgba(0,0,0,0.5), 0 ,10px, 20px);
                        }
                        </pre>
                        <p>除了可快速套用之外，css3 方面 Compass 會自動生出符合各瀏覽器的程式碼（-moz, -webkit, -o），當然 IE9 之前的版本 除外。</p>
                        <p>要載入哪些框架全憑個人需求，<a href="http://beta.compass-style.org/reference/compass/" target="_blank">Core Framework </a>分為幾大類，之下還有許多小分類，偷懶的可 @import "compass"; 載入 CSS3、Typography、Utilities 三個核心框架。另外 Compass 還提供 Blueprint，詳細內容可參閱 <a href="http://beta.compass-style.org/reference/blueprint/">Compass Blueprint Module</a>。</p>
                    </div>
                    <div id="nesting">
                        <h3>巢狀結構（Nesting）</h3>
                        <p>這應是 Compass 的最大特色了，巢狀結構好處是不需贅述父層名稱，讓層級複雜的結構能更清楚的呈現。</p>
                        <pre class="brush: css;">
                        #header {
                            margin-bottom: 50px;
                            h2 {
                                font-size: 24px;
                                color: red;
                                a { display: block; }
                            }
                            ul.nav {
                                @include clearfix;
                                li { float:left; }
                            }
                        }
                        </pre>
                        <p>另外對於偽元素也可以直接用<strong>“&amp;”</strong>符號來取代原本的選擇器名稱</p>
                        <pre class="brush: css;">
                        a {
                            color: #000;
                            text-decoration: none;
                            &amp;:visited {
                                color: #red;
                            }
                            &amp;:hover, &:active {
                                text-decoration: underline;
                            }
                        }
                        </pre>
                        <p>因為 <strong>&amp;</strong> = 自己，所以在 ie hack 中可以這樣寫</p>
                        <pre class="brush: css;">
                        ul li {
                            background: url(transparent.png);
                            .ie6 & {
                                background: #ff0000;
                            }
                        }
                        </pre>
                        <p>ie6 不支援 png 透明圖，所以 hack 直接給背景色。另外提供用 sass 的垂直置中 <a href="http://try-sass.heroku.com/" target="_blank">demo</a>。</p>
                    </div>
                    <div id="variables">
                        <h3>變數（Variables）</h3>
                        <p>變數可應用的範圍很廣，Sass 提供了許多<a href="http://sass-lang.com/docs/yardoc/Sass/Script/Functions.html" target="_blank">函數</a>，主要應用在色彩管理方面，比較簡易的應用是在定義識別色或區塊通用間距之類的，這在大型專案中會是好幫手。</p>
                        <pre class="brush: css;">
                        $cis-color: #f90;
                        $margin: 20px;
                        
                        #header {
                          background: $cis-color;
                        }
                        
                        a, h1, h2, h3, h4, h5 {
                            color: $cis-color;
                        }
                        
                        .section {
                            padding: $margin / 2;
                            margin-bottom: $margin;
                        }
                        </pre>
                        <p>假設企業識別色為橘色 #f90，在 header 背景色、連結、標題等都要採用該顏色，此時使用 "<strong>$</strong>" 定義後即可大量套用，如果企業修改識別色成為橘紅色，那麼只要修改成 $cis-color: #f40; 即可。</p>
                        <p>margin、padding 等也可採用這種方式。在變數中是允許使用數學運算的，因此可以用 <strong>$margin / 2</strong> 這樣的運算來取得我們想要的值。色碼部分的數學運算應用則有 <a href="http://sass-lang.com/docs/yardoc/Sass/Script/Functions.html#lighten-instance_method" target="_blank">lighten</a>、<a href="http://sass-lang.com/docs/yardoc/Sass/Script/Functions.html#darken-instance_method" target="_blank">darken</a> 這類<a href="http://sass-lang.com/docs/yardoc/Sass/Script/Functions.html" target="_blank">函數</a>可用。</p>
                    </div>
                    <div id="selector-inheritance">
                        <h3>選擇繼承（Selector Inheritance）</h3>
                        <p>相當好用、省工的功能，利用 <strong>@extend</strong> 的宣告方便快速的將某個選擇器的樣式完整載入。</p>
                        <pre class="brush: css;">
                        .main {
                            border: 1px #000;
                            background: #eee;
                            h2 {
                                font-size: 16px;
                                color: #f40;
                            }
                        }
                        
                        .sidebar {
                            @extend .main;
                            background: #fff;
                        }
                        </pre>
                        <p>以上方式 .sidebar 就會載入 .main 產生以下的 css 樣式</p>
                        <pre class="brush: css;">
                        .main, .sidebar {
                            border: 1px #000;
                            background: #eee;
                        }
                        
                        .main h2, .sidebar h2 {
                            font-size: 16px;
                            color: #f40;
                        }
                        
                        .sidebar {
                            background: #fff;
                        }
                        </pre>
                        <p>@extend 好處是很多面的，一些常用的甚至可以先整理寫好一份放著，享受真正的事半功倍快感。</p>
                        <pre class="brush: css;">
                        .menu, .menu li {
                            margin: 0;
                            padding: 0;
                            list-style-type: none;
                            li {float: left;}
                        }
                        </pre>
                    </div>
                    <div id="mixins">
                        <h3>混合（Mixins）</h3>
                        <p>Mixins 可定義的範圍更廣，方法是定義好之後再用 @include 的方式載入使用</p>
                        <pre class="brush: css;">
                        @mixin rounded-top {
                            $side: top;
                            $radius: 10px;
                            
                            border-#{$side}-radius: $radius;
                            -moz-border-radius-#{$side}: $radius;
                            -webkit-border-#{$side}-radius: $radius;
                        }
                        
                        #navbar li { @include rounded-top; }
                        #footer { @include rounded-top; }
                        </pre>
                        <p>此範例是宣告 @mixin 後加進變數再套進圓角框，之後 @include 載入使用。Mixins的用法相當多樣，請參考官方 <a href="http://sass-lang.com/docs/yardoc/_index.html" target="_blank">Sass Documentation</a> 說明文件有完整介紹。</p>
                    </div>
                    <div id="sprites">
                        <h3>Sprite Image</h3>
                        <p>Compass 內建了合併圖檔 <a href="http://compass-style.org/reference/compass/utilities/sprites/" target="_blank">Sprites</a> 的強大功能，以往用 photoshop 一張一張合併後還需要算出 X、Y 的實際位置，Compass Sprites 則是自動合併並且連圖檔實際位置也一併算好。</p>
                        <p>做法一開始將需要合併的圖檔個別切割命名好，再全部丟進 images/<strong>icons</strong> 或其他適當名稱的資料夾內，如此 compass 動作完成時就可以在 images 資料夾底下產生合併好的新圖。</p>
                        <pre class="brush: css;">
                        @import "compass/utilities/sprites";
                        
                        $icon-sprite: sprite-map("icons/*.png", $spacing: 20px);
                        </pre>
                        <p>這裡示範的是 <a href="http://compass-style.org/reference/compass/helpers/sprites/" target="_blank">sprite-map</a> 的作法。先 import 加入 sprites 這個功能，上面原始碼中 <strong>icon-sprite</strong> 是給這次動作的命名，<strong>"icons/*.png"</strong> 是這次要合併的資料夾名稱與檔案類型，如果每個圖檔之間希望有 20px 的間隔就可以用 <strong>spacing</strong> 這個參數做宣告。其它可用參數請參考 <a href="http://compass-style.org/reference/compass/helpers/sprites/" target="_blank">Sprite Helpers</a> 的介紹。要注意的是，當進行以上宣告後 compass.app 需要重新進行 watching 的動作。</p>
                        <p>進行完以上動作後 compass 會開始進行合併生出新圖檔，而我們要套用時只要給動作名稱以及合併前的原始圖檔名稱即可。</p>
                        <pre class="brush: css;">
                        h1 {
                            float:left;
                            margin:0;
                            a {
                                display:block;
                                float:left;
                                background: sprite($icon-sprite, logo) no-repeat;
                                width:100px;
                                height:40px;
                                text-indent:-9999em;
                                &:hover { background: sprite($icon-sprite, logo-hover) no-repeat; }
                            }
                        }
                        </pre>
                        <p>當位置（background-position）需要微調時可將數字加在圖檔名稱後方</p>
                        <pre class="brush: css;">
                        .disable {
                            background: #aaa sprite($icon-sprite, arrow-12px-disable, 7px, 5px) no-repeat;
                        }
                        </pre>
                        <p>如遇到往後更新需要加入新圖檔時也不需要全部重來一次了，把新增的圖檔丟進 icons 底下照本宣科就可以收工了。</p>
                    </div>
                <section>
            </article>
        </div>
    </div>
</body>
</html>
